(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9711],{15486:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var n=a(95155),s=a(12115),l=a(84809),i=a(72030);let p="0xc3F431Cd1B7220cCa703Ee08C24ca645A71e72c8",r="0x8ed8ed9f316016fcE26722A84B214ADE7E3c7917",d=JSON.parse('[{"constant":false,"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"}]'),o=JSON.parse('[{"constant":false,"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"constant":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","payable":false,"type":"event"},{"constant":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","payable":false,"type":"event"},{"constant":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","payable":false,"type":"event"},{"constant":false,"inputs":[],"name":"ODOG_TOKEN","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getMessage","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":false,"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"string","name":"message","type":"string"}],"name":"writeMessage","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}]');function u(){let{address:e,isConnected:t}=(0,l.F7)(),{chain:a}=(0,l.AE)(),{switchNetwork:u}=(0,l.YO)(),[y,m]=(0,s.useState)(""),[c,f]=(0,s.useState)(!1),[b,T]=(0,s.useState)(null),[g,v]=(0,s.useState)(null),{data:h,refetch:x}=(0,l.Av)({address:e,token:p,watch:!0,enabled:!!e}),{config:w}=(0,l.i8)({address:p,abi:d,functionName:"approve",args:[r,function(e,t){let[a,n="0"]="100".split("."),s=a.startsWith("-");if(s&&(a=a.slice(1)),(n=n.replace(/(0+)$/,"")).length>18){let[e,s,l]=[n.slice(0,t-1),n.slice(t-1,t),n.slice(t)],i=Math.round(Number(`${s}.${l}`));(n=i>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${i}`).length>t&&(n=n.slice(1),a=`${BigInt(a)+1n}`),n=n.slice(0,t)}else n=n.padEnd(t,"0");return BigInt(`${s?"-":""}${a}${n}`)}("100",18)],enabled:t}),{write:M,isLoading:N}=(0,l.t4)(w),{config:k}=(0,l.i8)({address:r,abi:o,functionName:"writeMessage",args:[y],enabled:t&&!!y}),{write:O,data:I,isLoading:j}=(0,l.t4)(k);return((0,l.gJ)({hash:null==I?void 0:I.hash,onSuccess:()=>{f(!1),T((null==I?void 0:I.hash)||null),x()},onError:e=>{f(!1),v(e.message)}}),t&&(null==a?void 0:a.id)!==196&&u)?(u(196),(0,n.jsx)("div",{className:"p-8 text-center",children:"请切换到 X Layer 网络..."})):(0,n.jsxs)("div",{className:"max-w-lg mx-auto mt-12 p-6 bg-white rounded-xl shadow",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"铸造 Odog Message Wall NFT"}),(0,n.jsx)(i.pK,{}),t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"mt-4 mb-2 text-gray-700",children:["钱包地址：",e]}),(0,n.jsxs)("div",{className:"mb-4",children:["ODOG 余额：",h?h.formatted:"-"]}),(0,n.jsx)("textarea",{className:"w-full border rounded p-2 mb-4",placeholder:"写下你的留言（可选）",value:y,onChange:e=>m(e.target.value),maxLength:100}),(0,n.jsx)("button",{className:"w-full py-2 mb-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 disabled:opacity-50",onClick:()=>null==M?void 0:M(),disabled:N,children:N?"授权中...":"授权 100 ODOG"}),(0,n.jsx)("button",{className:"w-full py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",onClick:()=>{f(!0),v(null),null==O||O()},disabled:j||!M||!O||!y,children:j||c?"铸造中...":"铸造 NFT (销毁 100 ODOG)"}),b&&(0,n.jsxs)("div",{className:"mt-4 text-green-600",children:["铸造成功！",(0,n.jsx)("a",{className:"underline ml-2",href:"https://scan.xlayer.tech/tx/".concat(b),target:"_blank",children:"查看区块链"})]}),g&&(0,n.jsx)("div",{className:"mt-2 text-red-600",children:g})]})]})}function y(){return(0,n.jsx)(u,{})}},59510:(e,t,a)=>{Promise.resolve().then(a.bind(a,15486))},99432:()=>{}},e=>{e.O(0,[8451,3240,8441,1255,7358],()=>e(e.s=59510)),_N_E=e.O()}]);