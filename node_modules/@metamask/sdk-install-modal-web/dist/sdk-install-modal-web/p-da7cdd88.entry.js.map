{"version":3,"names":["widgetWrapperStyle","fontFamily","WidgetWrapper","className","children","h","style","class","AdvantagesListItem","Icon","text","padding","flexDirection","lineHeight","color","LockIcon","width","height","viewBox","fill","xmlns","d","HeartIcon","WalletIcon","InstallIcon","stroke","SDKVersion","version","textAlign","fontSize","CloseButton","Logo","assertNumber","n","Number","isSafeInteger","Error","validateVersion","ver","bin","dec","pad","toString","padStart","mod","a","b","result","fillArr","length","val","Array","interleaveBytes","blocks","len","Math","max","res","i","push","Uint8Array","includesAt","lst","pattern","index","best","bestScore","Infinity","add","score","value","get","alphabet","has","char","includes","decode","input","isArray","map","letter","indexOf","encode","digits","Bitmap","size","limit","undefined","min","fromString","s","replace","lines","split","data","line","row","constructor","this","from","point","p","y","x","isInside","offset","xy","c","rect","yPos","xPos","rectRead","fn","cur","hLine","vLine","border","v","embed","bm","rectSlice","inverse","scale","factor","floor","clone","assertDrawn","_","j","join","toASCII","out","first","second","toTerm","reset","whiteBG","darkBG","toSVG","toGIF","u16le","dims","N","bytes","fullChunks","slice","toImage","isRGB","ECMode","Encoding","BYTES","WORDS_PER_BLOCK","low","medium","quartile","high","ECC_BLOCKS","info","sizeType","alignmentPatterns","last","distance","count","ceil","interval","m","ECCode","formatMask","formatBits","ecc","maskIdx","versionBits","numeric","alphanumerc","lengthBits","type","table","alphanumeric","byte","kanji","eci","modeBits","capacity","words","numBlocks","blockLen","shortBlocks","total","PATTERNS","_x","_y","GF","tables","p_poly","exp","log","mul","pow","e","inv","polynomial","poly","monomial","degree","coefficient","coefficients","mulPoly","mulPolyScalar","scalar","mulPolyMonomial","addPoly","smaller","larger","sumDiff","lengthDiff","remainderPoly","divisor","elm","divisorPoly","g","evalPoly","euclidian","R","rLast","r","tLast","t","rLastLast","tLastLast","q","dltInverse","degreeDiff","sigmaTildeAtZero","RS","eccWords","pol","to","syndrome","hasError","evl","errorLocator","errorEvaluator","locations","pos","xiInverse","denominator","interleave","rs","eccBlocks","isShort","subarray","resBlocks","resECC","set","block","drawTemplate","test","finder","align","alignPos","bits","getBit","bit","zigzag","tpl","dir","xOffset","detectType","str","utf8ToBytes","TextEncoder","encoded","dataLen","utf8","repeat","idx","match","drawQR","need","mask","penalty","sameColor","same","adjacent","forEach","column","box","lastW","lastH","x1","y1","finderPattern","lightPattern","p1","p2","darkPixels","_c","darkPercent","dark","abs","drawQRBest","bestMask","validateECC","ec","validateEncoding","enc","validateMask","encodeQR","output","opts","encoding","err","defaultTranslations","DESKTOP","MOBILE","META_MASK_MOBILE_APP","SCAN_TO_CONNECT","CONNECT_WITH_EXTENSION","INSTALL_MODAL","TRUSTED_BY_USERS","LEADING_CRYPTO_WALLET","CONTROL_DIGITAL_INTERACTIONS","INSTALL_META_MASK_EXTENSION","PENDING_MODAL","OPEN_META_MASK_SELECT_CODE","OPEN_META_MASK_CONTINUE","NUMBER_AFTER_OPEN_NOTICE","DISCONNECT","SELECT_MODAL","CRYPTO_TAKE_CONTROL_TEXT","META_MASK_MODAL","ADDRESS_COPIED","ACTIVE_NETWORK","SimpleI18n","config","translations","supportedLocales","baseUrl","_a","getBrowserLanguage","browserLanguages","navigator","languages","language","hasEnglish","some","lang","toLowerCase","startsWith","primaryLang","shortLang","init","browserLang","locale","fallbackLng","loadTranslations","shortLocale","url","response","fetch","ok","status","json","error","console","warn","key","getNestedTranslation","dict","parts","current","part","TrackingEvents","styleCss","MmInstallModalStyle0","InstallModal","hostRef","onClose","bind","onStartDesktopOnboardingHandler","setTab","render","preferDesktop","i18nInstance","componentDidLoad","trackAnalytics","emit","event","SDK_MODAL_VIEWED","params","extensionInstalled","tab","connectedCallback","translationsLoaded","updatePreferDesktop","newValue","shouldTerminate","close","SDK_MODAL_BUTTON_CLICKED","button_type","startDesktopOnboarding","newTab","isUserAction","SDK_MODAL_TOGGLE_CHANGED","toggle","isDefaultTab","currentTab","svgElement","link","onClick","display","marginTop","id","innerHTML","sdkVersion","MmPendingModalStyle0","PendingModal","onDisconnect","disconnect","onUpdateOTPValueHandler","otpValue","updateOTPValue","disconnectedCallback","displayOTP","marginBottom","otpCode","borderColor","borderWidth","borderStyle","backgroundColor","ConnectIcon","MetamaskExtensionImage","MmSelectModalStyle0","SelectModal","connectWithExtensionHandler","connectWithExtension","justifyContent"],"sources":["src/components/widget-wrapper/widget-wrapper.tsx","src/components/misc/AdvantagesListItem.tsx","src/components/misc/WalletIcon.tsx","src/components/misc/HeartIcon.tsx","src/components/misc/LockIcon.tsx","src/components/misc/InstallIcon.tsx","src/components/misc/SDKVersion.tsx","src/components/misc/CloseButton.tsx","src/components/misc/Logo.tsx","node_modules/@paulmillr/qr/index.js","src/components/misc/simple-i18n.ts","src/components/misc/tracking-events.ts","src/components/style.css?tag=mm-install-modal&encapsulation=shadow","src/components/mm-install-modal/mm-install-modal.tsx","src/components/style.css?tag=mm-pending-modal&encapsulation=shadow","src/components/mm-pending-modal/mm-pending-modal.tsx","src/components/misc/ConnectIcon.tsx","src/components/misc/MetamaskExtensionImage.tsx","src/components/style.css?tag=mm-select-modal&encapsulation=shadow","src/components/mm-select-modal/mm-select-modal.tsx"],"sourcesContent":["import { h, ChildNode } from '@stencil/core';\nimport './resetStyles.css';\n\nconst widgetWrapperStyle = {\n  fontFamily: 'Roboto, sans-serif',\n};\n\nexport const WidgetWrapper = ({\n  className,\n}: {\n  className: string;\n}, children: ChildNode) => {\n  return (\n    <div style={widgetWrapperStyle} class={className}>\n      {children}\n    </div>\n  );\n};","import { h } from '@stencil/core';\n\nconst AdvantagesListItem = ({ Icon, text }: { Icon: any; text: string }) => (\n  <div class='flexContainer' style={{ padding: '6', flexDirection: 'row'}}>\n    <div class='flexItem1'>\n      <Icon />\n    </div>\n    <div class='flexItem11'>\n      <span style={{ lineHeight: '2',  color: 'black' }}>{text}</span>\n    </div>\n  </div>\n);\n\nexport default AdvantagesListItem;\n","import { h } from \"@stencil/core\";\n\nconst LockIcon = () => (\n  <svg\n    width=\"20\"\n    height=\"18\"\n    viewBox=\"0 0 20 18\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M20.0002 7.9702V10.0302C20.0002 10.5802 19.5602 11.0302 19.0002 11.0502H17.0402C15.9602 11.0502 14.9702 10.2602 14.8802 9.1802C14.8202 8.5502 15.0602 7.9602 15.4802 7.5502C15.8502 7.1702 16.3602 6.9502 16.9202 6.9502H19.0002C19.5602 6.9702 20.0002 7.4202 20.0002 7.9702Z\"\n      fill=\"#037DD6\"\n    />\n    <path\n      d=\"M18.47 12.55H17.04C15.14 12.55 13.54 11.12 13.38 9.3C13.29 8.26 13.67 7.22 14.43 6.48C15.07 5.82 15.96 5.45 16.92 5.45H18.47C18.76 5.45 19 5.21 18.97 4.92C18.75 2.49 17.14 0.83 14.75 0.55C14.51 0.51 14.26 0.5 14 0.5H5C4.72 0.5 4.45 0.52 4.19 0.56C1.64 0.88 0 2.78 0 5.5V12.5C0 15.26 2.24 17.5 5 17.5H14C16.8 17.5 18.73 15.75 18.97 13.08C19 12.79 18.76 12.55 18.47 12.55ZM11 6.75H5C4.59 6.75 4.25 6.41 4.25 6C4.25 5.59 4.59 5.25 5 5.25H11C11.41 5.25 11.75 5.59 11.75 6C11.75 6.41 11.41 6.75 11 6.75Z\"\n      fill=\"#037DD6\"\n    />\n  </svg>\n);\n\nexport default LockIcon;\n","import { h } from \"@stencil/core\";\n\nconst HeartIcon = () => (\n  <svg\n    width=\"20\"\n    height=\"18\"\n    viewBox=\"0 0 20 18\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M14.44 0.0999756C12.63 0.0999756 11.01 0.979976 10 2.32998C8.99 0.979976 7.37 0.0999756 5.56 0.0999756C2.49 0.0999756 0 2.59998 0 5.68998C0 6.87998 0.19 7.97998 0.52 8.99998C2.1 14 6.97 16.99 9.38 17.81C9.72 17.93 10.28 17.93 10.62 17.81C13.03 16.99 17.9 14 19.48 8.99998C19.81 7.97998 20 6.87998 20 5.68998C20 2.59998 17.51 0.0999756 14.44 0.0999756Z\"\n      fill=\"#037DD6\"\n    />\n  </svg>\n);\n\nexport default HeartIcon;\n","import { h } from \"@stencil/core\";\n\nconst WalletIcon = () => (\n  <svg\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M16.28 7.53V6.28C16.28 3.58 15.63 0 10 0C4.37 0 3.72 3.58 3.72 6.28V7.53C0.92 7.88 0 9.3 0 12.79V14.65C0 18.75 1.25 20 5.35 20H14.65C18.75 20 20 18.75 20 14.65V12.79C20 9.3 19.08 7.88 16.28 7.53ZM10 16.74C8.33 16.74 6.98 15.38 6.98 13.72C6.98 12.05 8.34 10.7 10 10.7C11.66 10.7 13.02 12.06 13.02 13.72C13.02 15.39 11.67 16.74 10 16.74ZM5.35 7.44C5.27 7.44 5.2 7.44 5.12 7.44V6.28C5.12 3.35 5.95 1.4 10 1.4C14.05 1.4 14.88 3.35 14.88 6.28V7.45C14.8 7.45 14.73 7.45 14.65 7.45H5.35V7.44Z\"\n      fill=\"#037DD6\"\n    />\n  </svg>\n);\n\nexport default WalletIcon;\n","import { h } from \"@stencil/core\";\n\nconst InstallIcon = () => (\n  <svg\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M16.4405 8.8999C20.0405 9.2099 21.5105 11.0599 21.5105 15.1099V15.2399C21.5105 19.7099 19.7205 21.4999 15.2505 21.4999H8.74047C4.27047 21.4999 2.48047 19.7099 2.48047 15.2399V15.1099C2.48047 11.0899 3.93047 9.2399 7.47047 8.9099\"\n      stroke=\"white\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M12 2V14.88\"\n      stroke=\"white\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M15.3504 12.6499L12.0004 15.9999L8.65039 12.6499\"\n      stroke=\"white\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n  </svg>\n);\n\nexport default InstallIcon;\n","import { h } from \"@stencil/core\";\n\nexport default function SDKVersion({version}: {version?: string}) {\n  return (\n    <div style={{textAlign: 'center', color: '#BBC0C5', fontSize: '12'}}>SDK Version {version ? `v${version}`:`unknown`}</div>\n  )\n}\n","import { h } from \"@stencil/core\";\n\nconst CloseButton = () => (\n  <svg\n    width=\"14\"\n    height=\"14\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <rect width=\"16\" height=\"16\" fill=\"white\" />\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M2.40554 2.40554C2.94627 1.86482 3.82296 1.86482 4.36369 2.40554L8 6.04186L11.6363 2.40554C12.177 1.86482 13.0537 1.86482 13.5945 2.40554C14.1352 2.94627 14.1352 3.82296 13.5945 4.36369L9.95814 8L13.5945 11.6363C14.1352 12.177 14.1352 13.0537 13.5945 13.5945C13.0537 14.1352 12.177 14.1352 11.6363 13.5945L8 9.95814L4.36369 13.5945C3.82296 14.1352 2.94627 14.1352 2.40554 13.5945C1.86482 13.0537 1.86482 12.177 2.40554 11.6363L6.04186 8L2.40554 4.36369C1.86482 3.82296 1.86482 2.94627 2.40554 2.40554Z\"\n      fill=\"#BBC0C5\"\n    />\n  </svg>\n);\n\nexport default CloseButton;\n","import { h } from \"@stencil/core\";\n\nconst Logo = () => (\n  <svg width=\"120\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 127 63\">\n    <path fill=\"currentColor\" d=\"M71.554 48.607v13.81h-7.072v-9.568l-8.059.945c-1.77.205-2.548.79-2.548 1.864 0 1.575 1.478 2.239 4.648 2.239 1.932 0 4.073-.29 5.963-.79l-3.66 5.225c-1.479.332-2.92.496-4.44.496-6.414 0-10.074-2.57-10.074-7.132 0-4.023 2.877-6.136 9.416-6.884l8.638-1.012c-.467-2.532-2.362-3.633-6.13-3.633-3.537 0-7.443.912-10.937 2.613l1.111-6.18c3.248-1.369 6.95-2.074 10.69-2.074 8.226 0 12.461 3.444 12.461 10.075l-.008.005ZM7.938 31.315.208 62.416h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73l-7.73-31.105-14.518 17.388L7.934 31.311l.004.004ZM36.97.21 22.452 17.598 7.938.21.208 31.315h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73L36.97.21Zm53.17 48.107-6.25-.912c-1.562-.247-2.178-.747-2.178-1.617 0-1.41 1.52-2.032 4.647-2.032 3.62 0 6.868.747 10.283 2.364l-.862-6.094c-2.757-.995-5.922-1.491-9.212-1.491-7.688 0-11.886 2.696-11.886 7.547 0 3.776 2.303 5.889 7.196 6.636l6.335.954c1.603.248 2.261.87 2.261 1.865 0 1.41-1.478 2.074-4.481 2.074-3.948 0-8.225-.953-11.72-2.654l.7 6.094c3.003 1.122 6.91 1.785 10.57 1.785 7.896 0 12.007-2.78 12.007-7.715 0-3.94-2.303-6.057-7.4-6.8l-.01-.004ZM100.3 34.09v28.325h7.071V34.091H100.3Zm15.334 15.595 9.833-10.744h-8.8l-9.296 11.114 9.912 12.356h8.925l-10.574-12.73v.004Zm-16.321-25.09c0 4.56 3.66 7.13 10.074 7.13 1.52 0 2.961-.167 4.44-.495l3.66-5.225c-1.89.496-4.031.79-5.963.79-3.166 0-4.648-.664-4.648-2.239 0-1.079.783-1.659 2.549-1.864l8.058-.945v9.567h7.072v-13.81c0-6.635-4.236-10.075-12.461-10.075-3.744 0-7.442.705-10.691 2.075l-1.112 6.178c3.495-1.701 7.401-2.613 10.937-2.613 3.769 0 5.664 1.1 6.13 3.633l-8.637 1.013c-6.539.747-9.417 2.86-9.417 6.883l.009-.004Zm-19.779-1.492c0 5.725 3.29 8.627 9.787 8.627 2.59 0 4.732-.416 6.785-1.37l.903-6.261c-1.974 1.2-3.99 1.822-6.005 1.822-3.044 0-4.402-1.243-4.402-4.023v-8.295h10.732V7.84H86.601V2.948l-13.448 7.174v3.482h6.372V23.1l.008.004Zm-6.95-2.612v1.411H53.47c.862 2.873 3.423 4.187 7.97 4.187 3.62 0 6.993-.747 9.992-2.196l-.862 6.056c-2.757 1.16-6.251 1.785-9.829 1.785-9.5 0-14.68-4.23-14.68-12.066 0-7.838 5.264-12.235 13.406-12.235s13.119 4.771 13.119 13.062l-.005-.004ZM53.378 17.09h12.086c-.637-2.751-2.732-4.188-6.08-4.188-3.349 0-5.335 1.399-6.006 4.188Z\"/>\n  </svg>\n);\n\nexport default Logo;\n","/*!\nCopyright (c) 2023 Paul Miller (paulmillr.com)\nThe library @paulmillr/qr is dual-licensed under the Apache 2.0 OR MIT license.\nYou can select a license of your choice.\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nfunction assertNumber(n) {\n    if (!Number.isSafeInteger(n))\n        throw new Error(`Wrong integer: ${n}`);\n}\nfunction validateVersion(ver) {\n    if (!Number.isSafeInteger(ver) || ver < 1 || ver > 40)\n        throw new Error(`Invalid version=${ver}. Expected number [1..40]`);\n}\nfunction bin(dec, pad) {\n    return dec.toString(2).padStart(pad, '0');\n}\nfunction mod(a, b) {\n    const result = a % b;\n    return result >= 0 ? result : b + result;\n}\nfunction fillArr(length, val) {\n    return new Array(length).fill(val);\n}\n/**\n * Interleaves byte blocks.\n * @param blocks [[1, 2, 3], [4, 5, 6]]\n * @returns [1, 4, 2, 5, 3, 6]\n */\nfunction interleaveBytes(...blocks) {\n    let len = 0;\n    for (const b of blocks)\n        len = Math.max(len, b.length);\n    const res = [];\n    for (let i = 0; i < len; i++) {\n        for (const b of blocks) {\n            if (i >= b.length)\n                continue; // outside of block, skip\n            res.push(b[i]);\n        }\n    }\n    return new Uint8Array(res);\n}\nfunction includesAt(lst, pattern, index) {\n    if (index < 0 || index + pattern.length > lst.length)\n        return false;\n    for (let i = 0; i < pattern.length; i++)\n        if (pattern[i] !== lst[index + i])\n            return false;\n    return true;\n}\n// Optimize for minimal score/penalty\nfunction best() {\n    let best;\n    let bestScore = Infinity;\n    return {\n        add(score, value) {\n            if (score >= bestScore)\n                return;\n            best = value;\n            bestScore = score;\n        },\n        get: () => best,\n        score: () => bestScore,\n    };\n}\n// Based on https://github.com/paulmillr/scure-base/blob/main/index.ts\nfunction alphabet(alphabet) {\n    return {\n        has: (char) => alphabet.includes(char),\n        decode: (input) => {\n            if (!Array.isArray(input) || (input.length && typeof input[0] !== 'string'))\n                throw new Error('alphabet.decode input should be array of strings');\n            return input.map((letter) => {\n                if (typeof letter !== 'string')\n                    throw new Error(`alphabet.decode: not string element=${letter}`);\n                const index = alphabet.indexOf(letter);\n                if (index === -1)\n                    throw new Error(`Unknown letter: \"${letter}\". Allowed: ${alphabet}`);\n                return index;\n            });\n        },\n        encode: (digits) => {\n            if (!Array.isArray(digits) || (digits.length && typeof digits[0] !== 'number'))\n                throw new Error('alphabet.encode input should be an array of numbers');\n            return digits.map((i) => {\n                assertNumber(i);\n                if (i < 0 || i >= alphabet.length)\n                    throw new Error(`Digit index outside alphabet: ${i} (alphabet: ${alphabet.length})`);\n                return alphabet[i];\n            });\n        },\n    };\n}\nexport class Bitmap {\n    static size(size, limit) {\n        if (typeof size === 'number')\n            size = { height: size, width: size };\n        if (!Number.isSafeInteger(size.height) && size.height !== Infinity)\n            throw new Error(`Bitmap: wrong height=${size.height} (${typeof size.height})`);\n        if (!Number.isSafeInteger(size.width) && size.width !== Infinity)\n            throw new Error(`Bitmap: wrong width=${size.width} (${typeof size.width})`);\n        if (limit !== undefined) {\n            // Clamp length, so it won't overflow, also allows to use Infinity, so we draw until end\n            size = {\n                width: Math.min(size.width, limit.width),\n                height: Math.min(size.height, limit.height),\n            };\n        }\n        return size;\n    }\n    static fromString(s) {\n        // Remove linebreaks on start and end, so we draw in `` section\n        s = s.replace(/^\\n+/g, '').replace(/\\n+$/g, '');\n        const lines = s.split('\\n');\n        const height = lines.length;\n        const data = new Array(height);\n        let width;\n        for (const line of lines) {\n            const row = line.split('').map((i) => {\n                if (i === 'X')\n                    return true;\n                if (i === ' ')\n                    return false;\n                if (i === '?')\n                    return undefined;\n                throw new Error(`Bitmap.fromString: unknown symbol=${i}`);\n            });\n            if (width && row.length !== width)\n                throw new Error(`Bitmap.fromString different row sizes: width=${width} cur=${row.length}`);\n            width = row.length;\n            data.push(row);\n        }\n        if (!width)\n            width = 0;\n        return new Bitmap({ height, width }, data);\n    }\n    constructor(size, data) {\n        const { height, width } = Bitmap.size(size);\n        this.data = data || Array.from({ length: height }, () => fillArr(width, undefined));\n        this.height = height;\n        this.width = width;\n    }\n    point(p) {\n        return this.data[p.y][p.x];\n    }\n    isInside(p) {\n        return 0 <= p.x && p.x < this.width && 0 <= p.y && p.y < this.height;\n    }\n    size(offset) {\n        if (!offset)\n            return { height: this.height, width: this.width };\n        const { x, y } = this.xy(offset);\n        return { height: this.height - y, width: this.width - x };\n    }\n    xy(c) {\n        if (typeof c === 'number')\n            c = { x: c, y: c };\n        if (!Number.isSafeInteger(c.x))\n            throw new Error(`Bitmap: wrong x=${c.x}`);\n        if (!Number.isSafeInteger(c.y))\n            throw new Error(`Bitmap: wrong y=${c.y}`);\n        // Do modulo, so we can use negative positions\n        c.x = mod(c.x, this.width);\n        c.y = mod(c.y, this.height);\n        return c;\n    }\n    // Basically every operation can be represented as rect\n    rect(c, size, value) {\n        const { x, y } = this.xy(c);\n        const { height, width } = Bitmap.size(size, this.size({ x, y }));\n        for (let yPos = 0; yPos < height; yPos++) {\n            for (let xPos = 0; xPos < width; xPos++) {\n                // NOTE: we use give function relative coordinates inside box\n                this.data[y + yPos][x + xPos] =\n                    typeof value === 'function'\n                        ? value({ x: xPos, y: yPos }, this.data[y + yPos][x + xPos])\n                        : value;\n            }\n        }\n        return this;\n    }\n    // returns rectangular part of bitmap\n    rectRead(c, size, fn) {\n        return this.rect(c, size, (c, cur) => {\n            fn(c, cur);\n            return cur;\n        });\n    }\n    // Horizontal & vertical lines\n    hLine(c, len, value) {\n        return this.rect(c, { width: len, height: 1 }, value);\n    }\n    vLine(c, len, value) {\n        return this.rect(c, { width: 1, height: len }, value);\n    }\n    // add border\n    border(border = 2, value) {\n        const height = this.height + 2 * border;\n        const width = this.width + 2 * border;\n        const v = fillArr(border, value);\n        const h = Array.from({ length: border }, () => fillArr(width, value));\n        return new Bitmap({ height, width }, [...h, ...this.data.map((i) => [...v, ...i, ...v]), ...h]);\n    }\n    // Embed another bitmap on coordinates\n    embed(c, bm) {\n        return this.rect(c, bm.size(), ({ x, y }) => bm.data[y][x]);\n    }\n    // returns rectangular part of bitmap\n    rectSlice(c, size = this.size()) {\n        const rect = new Bitmap(Bitmap.size(size, this.size(this.xy(c))));\n        this.rect(c, size, ({ x, y }, cur) => (rect.data[y][x] = cur));\n        return rect;\n    }\n    // Change shape, replace rows with columns (data[y][x] -> data[x][y])\n    inverse() {\n        const { height, width } = this;\n        const res = new Bitmap({ height: width, width: height });\n        return res.rect({ x: 0, y: 0 }, Infinity, ({ x, y }) => this.data[x][y]);\n    }\n    // Each pixel size is multiplied by factor\n    scale(factor) {\n        if (!Number.isSafeInteger(factor) || factor > 1024)\n            throw new Error(`Wrong scale factor: ${factor}`);\n        const { height, width } = this;\n        const res = new Bitmap({ height: factor * height, width: factor * width });\n        return res.rect({ x: 0, y: 0 }, Infinity, ({ x, y }) => this.data[Math.floor(y / factor)][Math.floor(x / factor)]);\n    }\n    clone() {\n        const res = new Bitmap(this.size());\n        return res.rect({ x: 0, y: 0 }, this.size(), ({ x, y }) => this.data[y][x]);\n    }\n    // Ensure that there is no undefined values left\n    assertDrawn() {\n        this.rectRead(0, Infinity, (_, cur) => {\n            if (typeof cur !== 'boolean')\n                throw new Error(`Invalid color type=${typeof cur}`);\n        });\n    }\n    // Simple string representation for debugging\n    toString() {\n        return this.data\n            .map((i) => i.map((j) => (j === undefined ? '?' : j ? 'X' : ' ')).join(''))\n            .join('\\n');\n    }\n    toASCII() {\n        const { height, width, data } = this;\n        let out = '';\n        // Terminal character height is x2 of character width, so we process two rows of bitmap\n        // to produce one row of ASCII\n        for (let y = 0; y < height; y += 2) {\n            for (let x = 0; x < width; x++) {\n                const first = data[y][x];\n                const second = y + 1 >= height ? true : data[y + 1][x]; // if last row outside bitmap, make it black\n                if (!first && !second)\n                    out += '█'; // both rows white (empty)\n                else if (!first && second)\n                    out += '▀'; // top row white\n                else if (first && !second)\n                    out += '▄'; // down row white\n                else if (first && second)\n                    out += ' '; // both rows black\n            }\n            out += '\\n';\n        }\n        return out;\n    }\n    toTerm() {\n        const reset = '\\x1b[0m';\n        const whiteBG = `\\x1b[1;47m  ${reset}`;\n        const darkBG = `\\x1b[40m  ${reset}`;\n        return this.data.map((i) => i.map((j) => (j ? darkBG : whiteBG)).join('')).join('\\n');\n    }\n    toSVG() {\n        let out = `<svg xmlns:svg=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ${this.width} ${this.height}\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">`;\n        this.rectRead(0, Infinity, ({ x, y }, val) => {\n            if (val)\n                out += `<rect x=\"${x}\" y=\"${y}\" width=\"1\" height=\"1\" />`;\n        });\n        out += '</svg>';\n        return out;\n    }\n    toGIF() {\n        // NOTE: Small, but inefficient implementation.\n        // Uses 1 byte per pixel, but still less bloated than SVG.\n        const u16le = (i) => [i & 0xff, (i >>> 8) & 0xff];\n        const dims = [...u16le(this.width), ...u16le(this.height)];\n        const data = [];\n        this.rectRead(0, Infinity, (_, cur) => data.push(+(cur === true)));\n        const N = 126; // Block size\n        // prettier-ignore\n        const bytes = [\n            0x47, 0x49, 0x46, 0x38, 0x37, 0x61, ...dims, 0xf6, 0x00, 0x00, 0xff, 0xff, 0xff,\n            ...fillArr(3 * 127, 0x00), 0x2c, 0x00, 0x00, 0x00, 0x00, ...dims, 0x00, 0x07\n        ];\n        const fullChunks = Math.floor(data.length / N);\n        // Full blocks\n        for (let i = 0; i < fullChunks; i++)\n            bytes.push(N + 1, 0x80, ...data.slice(N * i, N * (i + 1)).map((i) => +i));\n        // Remaining bytes\n        bytes.push((data.length % N) + 1, 0x80, ...data.slice(fullChunks * N).map((i) => +i));\n        bytes.push(0x01, 0x81, 0x00, 0x3b);\n        return new Uint8Array(bytes);\n    }\n    toImage(isRGB = false) {\n        const { height, width } = this.size();\n        const data = new Uint8Array(height * width * (isRGB ? 3 : 4));\n        let i = 0;\n        for (let y = 0; y < height; y++) {\n            for (let x = 0; x < width; x++) {\n                const value = !!this.data[y][x] ? 0 : 255;\n                data[i++] = value;\n                data[i++] = value;\n                data[i++] = value;\n                if (!isRGB)\n                    data[i++] = 255; // alpha channel\n            }\n        }\n        return { height, width, data };\n    }\n}\n// End of utils\n// Runtime type-checking\n// Low: 7%, medium: 15%, quartile: 25%, high: 30%\nexport const ECMode = ['low', 'medium', 'quartile', 'high'];\nexport const Encoding = ['numeric', 'alphanumeric', 'byte', 'kanji', 'eci'];\n// Various constants & tables\n// prettier-ignore\nconst BYTES = [\n    // 1,  2,  3,   4,   5,   6,   7,   8,   9,  10,  11,  12,  13,  14,  15,  16,  17,  18,  19,   20,\n    26, 44, 70, 100, 134, 172, 196, 242, 292, 346, 404, 466, 532, 581, 655, 733, 815, 901, 991, 1085,\n    //  21,   22,   23,   24,   25,   26,   27,   28,   29,   30,   31,   32,   33,   34,   35,   36,   37,   38,   39,   40\n    1156, 1258, 1364, 1474, 1588, 1706, 1828, 1921, 2051, 2185, 2323, 2465, 2611, 2761, 2876, 3034, 3196, 3362, 3532, 3706,\n];\n// prettier-ignore\nconst WORDS_PER_BLOCK = {\n    // Version 1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40\n    low: [7, 10, 15, 20, 26, 18, 20, 24, 30, 18, 20, 24, 26, 30, 22, 24, 28, 30, 28, 28, 28, 28, 30, 30, 26, 28, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30],\n    medium: [10, 16, 26, 18, 24, 16, 18, 22, 22, 26, 30, 22, 22, 24, 24, 28, 28, 26, 26, 26, 26, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28],\n    quartile: [13, 22, 18, 26, 18, 24, 18, 22, 20, 24, 28, 26, 24, 20, 30, 24, 28, 28, 26, 30, 28, 30, 30, 30, 30, 28, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30],\n    high: [17, 28, 22, 16, 22, 28, 26, 26, 24, 28, 24, 28, 22, 24, 24, 30, 28, 28, 26, 28, 30, 24, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30],\n};\n// prettier-ignore\nconst ECC_BLOCKS = {\n    // Version   1, 2, 3, 4, 5, 6, 7, 8, 9,10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40\n    low: [1, 1, 1, 1, 1, 2, 2, 2, 2, 4, 4, 4, 4, 4, 6, 6, 6, 6, 7, 8, 8, 9, 9, 10, 12, 12, 12, 13, 14, 15, 16, 17, 18, 19, 19, 20, 21, 22, 24, 25],\n    medium: [1, 1, 1, 2, 2, 4, 4, 4, 5, 5, 5, 8, 9, 9, 10, 10, 11, 13, 14, 16, 17, 17, 18, 20, 21, 23, 25, 26, 28, 29, 31, 33, 35, 37, 38, 40, 43, 45, 47, 49],\n    quartile: [1, 1, 2, 2, 4, 4, 6, 6, 8, 8, 8, 10, 12, 16, 12, 17, 16, 18, 21, 20, 23, 23, 25, 27, 29, 34, 34, 35, 38, 40, 43, 45, 48, 51, 53, 56, 59, 62, 65, 68],\n    high: [1, 1, 2, 4, 4, 4, 5, 6, 8, 8, 11, 11, 16, 16, 18, 16, 19, 21, 25, 25, 25, 34, 30, 32, 35, 37, 40, 42, 45, 48, 51, 54, 57, 60, 63, 66, 70, 74, 77, 81],\n};\nconst info = {\n    size: {\n        encode: (ver) => 21 + 4 * (ver - 1), // ver1 = 21, ver40=177 blocks\n        decode: (size) => (size - 17) / 4,\n    },\n    sizeType: (ver) => Math.floor((ver + 7) / 17),\n    // Based on https://codereview.stackexchange.com/questions/74925/algorithm-to-generate-this-alignment-pattern-locations-table-for-qr-codes\n    alignmentPatterns(ver) {\n        if (ver === 1)\n            return [];\n        const first = 6;\n        const last = info.size.encode(ver) - first - 1;\n        const distance = last - first;\n        const count = Math.ceil(distance / 28);\n        let interval = Math.floor(distance / count);\n        if (interval % 2)\n            interval += 1;\n        else if ((distance % count) * 2 >= count)\n            interval += 2;\n        const res = [first];\n        for (let m = 1; m < count; m++)\n            res.push(last - (count - m) * interval);\n        res.push(last);\n        return res;\n    },\n    ECCode: {\n        low: 0b01,\n        medium: 0b00,\n        quartile: 0b11,\n        high: 0b10,\n    },\n    formatMask: 0b101010000010010,\n    formatBits(ecc, maskIdx) {\n        const data = (info.ECCode[ecc] << 3) | maskIdx;\n        let d = data;\n        for (let i = 0; i < 10; i++)\n            d = (d << 1) ^ ((d >> 9) * 0b10100110111);\n        return ((data << 10) | d) ^ info.formatMask;\n    },\n    versionBits(ver) {\n        let d = ver;\n        for (let i = 0; i < 12; i++)\n            d = (d << 1) ^ ((d >> 11) * 0b1111100100101);\n        return (ver << 12) | d;\n    },\n    alphabet: {\n        numeric: alphabet('0123456789'),\n        alphanumerc: alphabet('0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:'),\n    }, // as Record<EncodingType, ReturnType<typeof alphabet>>,\n    lengthBits(ver, type) {\n        const table = {\n            numeric: [10, 12, 14],\n            alphanumeric: [9, 11, 13],\n            byte: [8, 16, 16],\n            kanji: [8, 10, 12],\n            eci: [0, 0, 0],\n        };\n        return table[type][info.sizeType(ver)];\n    },\n    modeBits: {\n        numeric: '0001',\n        alphanumeric: '0010',\n        byte: '0100',\n        kanji: '1000',\n        eci: '0111',\n    },\n    capacity(ver, ecc) {\n        const bytes = BYTES[ver - 1];\n        const words = WORDS_PER_BLOCK[ecc][ver - 1];\n        const numBlocks = ECC_BLOCKS[ecc][ver - 1];\n        const blockLen = Math.floor(bytes / numBlocks) - words;\n        const shortBlocks = numBlocks - (bytes % numBlocks);\n        return {\n            words,\n            numBlocks,\n            shortBlocks,\n            blockLen,\n            capacity: (bytes - words * numBlocks) * 8,\n            total: (words + blockLen) * numBlocks + numBlocks - shortBlocks,\n        };\n    },\n};\nconst PATTERNS = [\n    (x, y) => (x + y) % 2 == 0,\n    (_x, y) => y % 2 == 0,\n    (x, _y) => x % 3 == 0,\n    (x, y) => (x + y) % 3 == 0,\n    (x, y) => (Math.floor(y / 2) + Math.floor(x / 3)) % 2 == 0,\n    (x, y) => ((x * y) % 2) + ((x * y) % 3) == 0,\n    (x, y) => (((x * y) % 2) + ((x * y) % 3)) % 2 == 0,\n    (x, y) => (((x + y) % 2) + ((x * y) % 3)) % 2 == 0,\n];\n// Galois field && reed-solomon encoding\nconst GF = {\n    tables: ((p_poly) => {\n        const exp = fillArr(256, 0);\n        const log = fillArr(256, 0);\n        for (let i = 0, x = 1; i < 256; i++) {\n            exp[i] = x;\n            log[x] = i;\n            x <<= 1;\n            if (x & 0x100)\n                x ^= p_poly;\n        }\n        return { exp, log };\n    })(0x11d),\n    exp: (x) => GF.tables.exp[x],\n    log(x) {\n        if (x === 0)\n            throw new Error(`GF.log: wrong arg=${x}`);\n        return GF.tables.log[x] % 255;\n    },\n    mul(x, y) {\n        if (x === 0 || y === 0)\n            return 0;\n        return GF.tables.exp[(GF.tables.log[x] + GF.tables.log[y]) % 255];\n    },\n    add: (x, y) => x ^ y,\n    pow: (x, e) => GF.tables.exp[(GF.tables.log[x] * e) % 255],\n    inv(x) {\n        if (x === 0)\n            throw new Error(`GF.inverse: wrong arg=${x}`);\n        return GF.tables.exp[255 - GF.tables.log[x]];\n    },\n    polynomial(poly) {\n        if (poly.length == 0)\n            throw new Error('GF.polymomial: wrong length');\n        if (poly[0] !== 0)\n            return poly;\n        // Strip leading zeros\n        let i = 0;\n        for (; i < poly.length - 1 && poly[i] == 0; i++)\n            ;\n        return poly.slice(i);\n    },\n    monomial(degree, coefficient) {\n        if (degree < 0)\n            throw new Error(`GF.monomial: wrong degree=${degree}`);\n        if (coefficient == 0)\n            return [0];\n        let coefficients = fillArr(degree + 1, 0);\n        coefficients[0] = coefficient;\n        return GF.polynomial(coefficients);\n    },\n    degree: (a) => a.length - 1,\n    coefficient: (a, degree) => a[GF.degree(a) - degree],\n    mulPoly(a, b) {\n        if (a[0] === 0 || b[0] === 0)\n            return [0];\n        const res = fillArr(a.length + b.length - 1, 0);\n        for (let i = 0; i < a.length; i++) {\n            for (let j = 0; j < b.length; j++) {\n                res[i + j] = GF.add(res[i + j], GF.mul(a[i], b[j]));\n            }\n        }\n        return GF.polynomial(res);\n    },\n    mulPolyScalar(a, scalar) {\n        if (scalar == 0)\n            return [0];\n        if (scalar == 1)\n            return a;\n        const res = fillArr(a.length, 0);\n        for (let i = 0; i < a.length; i++)\n            res[i] = GF.mul(a[i], scalar);\n        return GF.polynomial(res);\n    },\n    mulPolyMonomial(a, degree, coefficient) {\n        if (degree < 0)\n            throw new Error('GF.mulPolyMonomial: wrong degree');\n        if (coefficient == 0)\n            return [0];\n        const res = fillArr(a.length + degree, 0);\n        for (let i = 0; i < a.length; i++)\n            res[i] = GF.mul(a[i], coefficient);\n        return GF.polynomial(res);\n    },\n    addPoly(a, b) {\n        if (a[0] === 0)\n            return b;\n        if (b[0] === 0)\n            return a;\n        let smaller = a;\n        let larger = b;\n        if (smaller.length > larger.length)\n            [smaller, larger] = [larger, smaller];\n        let sumDiff = fillArr(larger.length, 0);\n        let lengthDiff = larger.length - smaller.length;\n        let s = larger.slice(0, lengthDiff);\n        for (let i = 0; i < s.length; i++)\n            sumDiff[i] = s[i];\n        for (let i = lengthDiff; i < larger.length; i++)\n            sumDiff[i] = GF.add(smaller[i - lengthDiff], larger[i]);\n        return GF.polynomial(sumDiff);\n    },\n    remainderPoly(data, divisor) {\n        const out = Array.from(data);\n        for (let i = 0; i < data.length - divisor.length + 1; i++) {\n            const elm = out[i];\n            if (elm === 0)\n                continue;\n            for (let j = 1; j < divisor.length; j++) {\n                if (divisor[j] !== 0)\n                    out[i + j] = GF.add(out[i + j], GF.mul(divisor[j], elm));\n            }\n        }\n        return out.slice(data.length - divisor.length + 1, out.length);\n    },\n    divisorPoly(degree) {\n        let g = [1];\n        for (let i = 0; i < degree; i++)\n            g = GF.mulPoly(g, [1, GF.pow(2, i)]);\n        return g;\n    },\n    evalPoly(poly, a) {\n        if (a == 0)\n            return GF.coefficient(poly, 0); // Just return the x^0 coefficient\n        let res = poly[0];\n        for (let i = 1; i < poly.length; i++)\n            res = GF.add(GF.mul(a, res), poly[i]);\n        return res;\n    },\n    // TODO: cleanup\n    euclidian(a, b, R) {\n        // Force degree(a) >= degree(b)\n        if (GF.degree(a) < GF.degree(b))\n            [a, b] = [b, a];\n        let rLast = a;\n        let r = b;\n        let tLast = [0];\n        let t = [1];\n        // while degree of Ri ≥ t/2\n        while (2 * GF.degree(r) >= R) {\n            let rLastLast = rLast;\n            let tLastLast = tLast;\n            rLast = r;\n            tLast = t;\n            if (rLast[0] === 0)\n                throw new Error('rLast[0] === 0');\n            r = rLastLast;\n            let q = [0];\n            const dltInverse = GF.inv(rLast[0]);\n            while (GF.degree(r) >= GF.degree(rLast) && r[0] !== 0) {\n                const degreeDiff = GF.degree(r) - GF.degree(rLast);\n                const scale = GF.mul(r[0], dltInverse);\n                q = GF.addPoly(q, GF.monomial(degreeDiff, scale));\n                r = GF.addPoly(r, GF.mulPolyMonomial(rLast, degreeDiff, scale));\n            }\n            q = GF.mulPoly(q, tLast);\n            t = GF.addPoly(q, tLastLast);\n            if (GF.degree(r) >= GF.degree(rLast))\n                throw new Error(`Division failed r: ${r}, rLast: ${rLast}`);\n        }\n        const sigmaTildeAtZero = GF.coefficient(t, 0);\n        if (sigmaTildeAtZero == 0)\n            throw new Error('sigmaTilde(0) was zero');\n        const inverse = GF.inv(sigmaTildeAtZero);\n        return [GF.mulPolyScalar(t, inverse), GF.mulPolyScalar(r, inverse)];\n    },\n};\nfunction RS(eccWords) {\n    return {\n        encode(from) {\n            const d = GF.divisorPoly(eccWords);\n            const pol = Array.from(from);\n            pol.push(...d.slice(0, -1).fill(0));\n            return Uint8Array.from(GF.remainderPoly(pol, d));\n        },\n        decode(to) {\n            const res = to.slice();\n            const poly = GF.polynomial(Array.from(to));\n            // Find errors\n            let syndrome = fillArr(eccWords, 0);\n            let hasError = false;\n            for (let i = 0; i < eccWords; i++) {\n                const evl = GF.evalPoly(poly, GF.exp(i));\n                syndrome[syndrome.length - 1 - i] = evl;\n                if (evl !== 0)\n                    hasError = true;\n            }\n            if (!hasError)\n                return res;\n            syndrome = GF.polynomial(syndrome);\n            const monomial = GF.monomial(eccWords, 1);\n            const [errorLocator, errorEvaluator] = GF.euclidian(monomial, syndrome, eccWords);\n            // Error locations\n            const locations = fillArr(GF.degree(errorLocator), 0);\n            let e = 0;\n            for (let i = 1; i < 256 && e < locations.length; i++) {\n                if (GF.evalPoly(errorLocator, i) === 0)\n                    locations[e++] = GF.inv(i);\n            }\n            if (e !== locations.length)\n                throw new Error('RS.decode: wrong errors number');\n            for (let i = 0; i < locations.length; i++) {\n                const pos = res.length - 1 - GF.log(locations[i]);\n                if (pos < 0)\n                    throw new Error('RS.decode: wrong error location');\n                const xiInverse = GF.inv(locations[i]);\n                let denominator = 1;\n                for (let j = 0; j < locations.length; j++) {\n                    if (i === j)\n                        continue;\n                    denominator = GF.mul(denominator, GF.add(1, GF.mul(locations[j], xiInverse)));\n                }\n                res[pos] = GF.add(res[pos], GF.mul(GF.evalPoly(errorEvaluator, xiInverse), GF.inv(denominator)));\n            }\n            return res;\n        },\n    };\n}\n// Interleaves blocks\nfunction interleave(ver, ecc) {\n    const { words, shortBlocks, numBlocks, blockLen, total } = info.capacity(ver, ecc);\n    const rs = RS(words);\n    return {\n        encode(bytes) {\n            // Add error correction to bytes\n            const blocks = [];\n            const eccBlocks = [];\n            for (let i = 0; i < numBlocks; i++) {\n                const isShort = i < shortBlocks;\n                const len = blockLen + (isShort ? 0 : 1);\n                blocks.push(bytes.subarray(0, len));\n                eccBlocks.push(rs.encode(bytes.subarray(0, len)));\n                bytes = bytes.subarray(len);\n            }\n            const resBlocks = interleaveBytes(...blocks);\n            const resECC = interleaveBytes(...eccBlocks);\n            const res = new Uint8Array(resBlocks.length + resECC.length);\n            res.set(resBlocks);\n            res.set(resECC, resBlocks.length);\n            return res;\n        },\n        decode(data) {\n            if (data.length !== total)\n                throw new Error(`interleave.decode: len(data)=${data.length}, total=${total}`);\n            const blocks = [];\n            for (let i = 0; i < numBlocks; i++) {\n                const isShort = i < shortBlocks;\n                blocks.push(new Uint8Array(words + blockLen + (isShort ? 0 : 1)));\n            }\n            // Short blocks\n            let pos = 0;\n            for (let i = 0; i < blockLen; i++) {\n                for (let j = 0; j < numBlocks; j++)\n                    blocks[j][i] = data[pos++];\n            }\n            // Long blocks\n            for (let j = shortBlocks; j < numBlocks; j++)\n                blocks[j][blockLen] = data[pos++];\n            // ECC\n            for (let i = blockLen; i < blockLen + words; i++) {\n                for (let j = 0; j < numBlocks; j++) {\n                    const isShort = j < shortBlocks;\n                    blocks[j][i + (isShort ? 0 : 1)] = data[pos++];\n                }\n            }\n            // Decode\n            // Error-correct and copy data blocks together into a stream of bytes\n            const res = [];\n            for (const block of blocks)\n                res.push(...Array.from(rs.decode(block)).slice(0, -words));\n            return Uint8Array.from(res);\n        },\n    };\n}\n// Draw\n// Generic template per version+ecc+mask. Can be cached, to speedup calculations.\nfunction drawTemplate(ver, ecc, maskIdx, test = false) {\n    const size = info.size.encode(ver);\n    let b = new Bitmap(size + 2);\n    // Finder patterns\n    // We draw full pattern and later slice, since before addition of borders finder is truncated by one pixel on sides\n    const finder = new Bitmap(3).rect(0, 3, true).border(1, false).border(1, true).border(1, false);\n    b = b\n        .embed(0, finder) // top left\n        .embed({ x: -finder.width, y: 0 }, finder) // top right\n        .embed({ x: 0, y: -finder.height }, finder); // bottom left\n    b = b.rectSlice(1, size);\n    // Alignment patterns\n    const align = new Bitmap(1).rect(0, 1, true).border(1, false).border(1, true);\n    const alignPos = info.alignmentPatterns(ver);\n    for (const y of alignPos) {\n        for (const x of alignPos) {\n            if (b.data[y][x] !== undefined)\n                continue;\n            b.embed({ x: x - 2, y: y - 2 }, align); // center of pattern should be at position\n        }\n    }\n    // Timing patterns\n    b = b\n        .hLine({ x: 0, y: 6 }, Infinity, ({ x }, cur) => (cur === undefined ? x % 2 == 0 : cur))\n        .vLine({ x: 6, y: 0 }, Infinity, ({ y }, cur) => (cur === undefined ? y % 2 == 0 : cur));\n    // Format information\n    {\n        const bits = info.formatBits(ecc, maskIdx);\n        const getBit = (i) => !test && ((bits >> i) & 1) == 1;\n        // vertical\n        for (let i = 0; i < 6; i++)\n            b.data[i][8] = getBit(i); // right of top-left finder\n        // TODO: re-write as lines, like:\n        // b.vLine({ x: 8, y: 0 }, 6, ({ x, y }) => getBit(y));\n        for (let i = 6; i < 8; i++)\n            b.data[i + 1][8] = getBit(i); // after timing pattern\n        for (let i = 8; i < 15; i++)\n            b.data[size - 15 + i][8] = getBit(i); // right of bottom-left finder\n        // horizontal\n        for (let i = 0; i < 8; i++)\n            b.data[8][size - i - 1] = getBit(i); // under top-right finder\n        for (let i = 8; i < 9; i++)\n            b.data[8][15 - i - 1 + 1] = getBit(i); // VVV, after timing\n        for (let i = 9; i < 15; i++)\n            b.data[8][15 - i - 1] = getBit(i); // under top-left finder\n        b.data[size - 8][8] = !test; // bottom-left finder, right\n    }\n    // Version information\n    if (ver >= 7) {\n        const bits = info.versionBits(ver);\n        for (let i = 0; i < 18; i += 1) {\n            const bit = !test && ((bits >> i) & 1) == 1;\n            const x = Math.floor(i / 3);\n            const y = (i % 3) + size - 8 - 3;\n            // two copies\n            b.data[x][y] = bit;\n            b.data[y][x] = bit;\n        }\n    }\n    return b;\n}\n// zigzag: bottom->top && top->bottom\nfunction zigzag(tpl, maskIdx, fn) {\n    const size = tpl.height;\n    const pattern = PATTERNS[maskIdx];\n    // zig-zag pattern\n    let dir = -1;\n    let y = size - 1;\n    // two columns at time\n    for (let xOffset = size - 1; xOffset > 0; xOffset -= 2) {\n        if (xOffset == 6)\n            xOffset = 5; // skip vertical timing pattern\n        for (;; y += dir) {\n            for (let j = 0; j < 2; j += 1) {\n                const x = xOffset - j;\n                if (tpl.data[y][x] !== undefined)\n                    continue; // skip already written elements\n                fn(x, y, pattern(x, y));\n            }\n            if (y + dir < 0 || y + dir >= size)\n                break;\n        }\n        dir = -dir; // change direction\n    }\n}\n// NOTE: byte encoding is just representation, QR works with strings only. Most decoders will fail on raw byte array,\n// since they expect unicode or other text encoding inside bytes\nfunction detectType(str) {\n    let type = 'numeric';\n    for (let x of str) {\n        if (info.alphabet.numeric.has(x))\n            continue;\n        type = 'alphanumeric';\n        if (!info.alphabet.alphanumerc.has(x))\n            return 'byte';\n    }\n    return type;\n}\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str) {\n    if (typeof str !== 'string')\n        throw new Error(`utf8ToBytes expected string, got ${typeof str}`);\n    return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\nfunction encode(ver, ecc, data, type) {\n    let encoded = '';\n    let dataLen = data.length;\n    if (type === 'numeric') {\n        const t = info.alphabet.numeric.decode(data.split(''));\n        const n = t.length;\n        for (let i = 0; i < n - 2; i += 3)\n            encoded += bin(t[i] * 100 + t[i + 1] * 10 + t[i + 2], 10);\n        if (n % 3 === 1) {\n            encoded += bin(t[n - 1], 4);\n        }\n        else if (n % 3 === 2) {\n            encoded += bin(t[n - 2] * 10 + t[n - 1], 7);\n        }\n    }\n    else if (type === 'alphanumeric') {\n        const t = info.alphabet.alphanumerc.decode(data.split(''));\n        const n = t.length;\n        for (let i = 0; i < n - 1; i += 2)\n            encoded += bin(t[i] * 45 + t[i + 1], 11);\n        if (n % 2 == 1)\n            encoded += bin(t[n - 1], 6); // pad if odd number of chars\n    }\n    else if (type === 'byte') {\n        const utf8 = utf8ToBytes(data);\n        dataLen = utf8.length;\n        encoded = Array.from(utf8)\n            .map((i) => bin(i, 8))\n            .join('');\n    }\n    else {\n        throw new Error('encode: unsupported type');\n    }\n    const { capacity } = info.capacity(ver, ecc);\n    const len = bin(dataLen, info.lengthBits(ver, type));\n    let bits = info.modeBits[type] + len + encoded;\n    if (bits.length > capacity)\n        throw new Error('Capacity overflow');\n    // Terminator\n    bits += '0'.repeat(Math.min(4, Math.max(0, capacity - bits.length)));\n    // Pad bits string untill full byte\n    if (bits.length % 8)\n        bits += '0'.repeat(8 - (bits.length % 8));\n    // Add padding until capacity is full\n    const padding = '1110110000010001';\n    for (let idx = 0; bits.length !== capacity; idx++)\n        bits += padding[idx % padding.length];\n    // Convert a bitstring to array of bytes\n    const bytes = Uint8Array.from(bits.match(/(.{8})/g).map((i) => Number(`0b${i}`)));\n    return interleave(ver, ecc).encode(bytes);\n}\n// DRAW\nfunction drawQR(ver, ecc, data, maskIdx, test = false) {\n    const b = drawTemplate(ver, ecc, maskIdx, test);\n    let i = 0;\n    const need = 8 * data.length;\n    zigzag(b, maskIdx, (x, y, mask) => {\n        let value = false;\n        if (i < need) {\n            value = ((data[i >>> 3] >> ((7 - i) & 7)) & 1) !== 0;\n            i++;\n        }\n        b.data[y][x] = value !== mask; // !== as xor\n    });\n    if (i !== need)\n        throw new Error('QR: bytes left after draw');\n    return b;\n}\nfunction penalty(bm) {\n    const inverse = bm.inverse();\n    // Adjacent modules in row/column in same | No. of modules = (5 + i) color\n    const sameColor = (row) => {\n        let res = 0;\n        for (let i = 0, same = 1, last = undefined; i < row.length; i++) {\n            if (last === row[i]) {\n                same++;\n                if (i !== row.length - 1)\n                    continue; // handle last element\n            }\n            if (same >= 5)\n                res += 3 + (same - 5);\n            last = row[i];\n            same = 1;\n        }\n        return res;\n    };\n    let adjacent = 0;\n    bm.data.forEach((row) => (adjacent += sameColor(row)));\n    inverse.data.forEach((column) => (adjacent += sameColor(column)));\n    // Block of modules in same color (Block size = 2x2)\n    let box = 0;\n    let b = bm.data;\n    const lastW = bm.width - 1;\n    const lastH = bm.height - 1;\n    for (let x = 0; x < lastW; x++) {\n        for (let y = 0; y < lastH; y++) {\n            const x1 = x + 1;\n            const y1 = y + 1;\n            if (b[x][y] === b[x1][y] && b[x1][y] === b[x][y1] && b[x1][y] === b[x1][y1]) {\n                box += 3;\n            }\n        }\n    }\n    // 1:1:3:1:1 ratio (dark:light:dark:light:dark) pattern in row/column, preceded or followed by light area 4 modules wide\n    const finderPattern = (row) => {\n        const finderPattern = [true, false, true, true, true, false, true]; // dark:light:dark:light:dark\n        const lightPattern = [false, false, false, false]; // light area 4 modules wide\n        const p1 = [...finderPattern, ...lightPattern];\n        const p2 = [...lightPattern, ...finderPattern];\n        let res = 0;\n        for (let i = 0; i < row.length; i++) {\n            if (includesAt(row, p1, i))\n                res += 40;\n            if (includesAt(row, p2, i))\n                res += 40;\n        }\n        return res;\n    };\n    let finder = 0;\n    for (const row of bm.data)\n        finder += finderPattern(row);\n    for (const column of inverse.data)\n        finder += finderPattern(column);\n    // Proportion of dark modules in entire symbol\n    // Add 10 points to a deviation of 5% increment or decrement in the proportion\n    // ratio of dark module from the referential 50%\n    let darkPixels = 0;\n    bm.rectRead(0, Infinity, (_c, val) => (darkPixels += val ? 1 : 0));\n    const darkPercent = (darkPixels / (bm.height * bm.width)) * 100;\n    const dark = 10 * Math.floor(Math.abs(darkPercent - 50) / 5);\n    return adjacent + box + finder + dark;\n}\n// Selects best mask according to penalty, if no mask is provided\nfunction drawQRBest(ver, ecc, data, maskIdx) {\n    if (maskIdx === undefined) {\n        const bestMask = best();\n        for (let mask = 0; mask < PATTERNS.length; mask++)\n            bestMask.add(penalty(drawQR(ver, ecc, data, mask, true)), mask);\n        maskIdx = bestMask.get();\n    }\n    if (maskIdx === undefined)\n        throw new Error('Cannot find mask'); // Should never happen\n    return drawQR(ver, ecc, data, maskIdx);\n}\nfunction validateECC(ec) {\n    if (!ECMode.includes(ec))\n        throw new Error(`Invalid error correction mode=${ec}. Expected: ${ECMode}`);\n}\nfunction validateEncoding(enc) {\n    if (!Encoding.includes(enc))\n        throw new Error(`Encoding: invalid mode=${enc}. Expected: ${Encoding}`);\n    if (enc === 'kanji' || enc === 'eci')\n        throw new Error(`Encoding: ${enc} is not supported (yet?).`);\n}\nfunction validateMask(mask) {\n    if (![0, 1, 2, 3, 4, 5, 6, 7].includes(mask) || !PATTERNS[mask])\n        throw new Error(`Invalid mask=${mask}. Expected number [0..7]`);\n}\nexport default function encodeQR(text, output = 'raw', opts = {}) {\n    const ecc = opts.ecc !== undefined ? opts.ecc : 'medium';\n    validateECC(ecc);\n    const encoding = opts.encoding !== undefined ? opts.encoding : detectType(text);\n    validateEncoding(encoding);\n    if (opts.mask !== undefined)\n        validateMask(opts.mask);\n    let ver = opts.version;\n    let data, err = new Error('Unknown error');\n    if (ver !== undefined) {\n        validateVersion(ver);\n        data = encode(ver, ecc, text, encoding);\n    }\n    else {\n        // If no version is provided, try to find smallest one which fits\n        // Currently just scans all version, can be significantly speedup if needed\n        for (let i = 1; i <= 40; i++) {\n            try {\n                data = encode(i, ecc, text, encoding);\n                ver = i;\n                break;\n            }\n            catch (e) {\n                err = e;\n            }\n        }\n    }\n    if (!ver || !data)\n        throw err;\n    let res = drawQRBest(ver, ecc, data, opts.mask);\n    res.assertDrawn();\n    const border = opts.border === undefined ? 2 : opts.border;\n    if (!Number.isSafeInteger(border))\n        throw new Error(`Wrong border type=${typeof border}`);\n    res = res.border(border, false); // Add border\n    if (opts.scale !== undefined)\n        res = res.scale(opts.scale); // Scale image\n    if (output === 'raw')\n        return res.data;\n    else if (output === 'ascii')\n        return res.toASCII();\n    else if (output === 'svg')\n        return res.toSVG();\n    else if (output === 'gif')\n        return res.toGIF();\n    else if (output === 'term')\n        return res.toTerm();\n    else\n        throw new Error(`Unknown output: ${output}`);\n}\nexport const utils = {\n    best,\n    bin,\n    drawTemplate,\n    fillArr,\n    info,\n    interleave,\n    validateVersion,\n    zigzag,\n};\n// Unsafe API utils, exported only for tests\nexport const _tests = {\n    Bitmap,\n    info,\n    detectType,\n    encode,\n    drawQR,\n    penalty,\n    PATTERNS,\n};\n// Type tests\n// const o1 = qr('test', 'ascii');\n// const o2 = qr('test', 'raw');\n// const o3 = qr('test', 'gif');\n// const o4 = qr('test', 'svg');\n// const o5 = qr('test', 'term');\n//# sourceMappingURL=index.js.map","interface I18nInstance {\n  t: (key: string) => string;\n  init: (config: { fallbackLng: string }) => Promise<void>;\n}\n\ninterface TranslationDict {\n  [key: string]: string | TranslationDict;\n}\n\nconst defaultTranslations: TranslationDict = {\n  \"DESKTOP\": \"Desktop\",\n  \"MOBILE\": \"Mobile\",\n  \"META_MASK_MOBILE_APP\": \"MetaMask mobile app\",\n  \"SCAN_TO_CONNECT\": \"Scan to connect and sign with\",\n  \"CONNECT_WITH_EXTENSION\": \"Connect With MetaMask Extension\",\n  \"INSTALL_MODAL\": {\n    \"TRUSTED_BY_USERS\": \"Trusted by over 30 million users to buy, store, send and swap crypto securely\",\n    \"LEADING_CRYPTO_WALLET\": \"The leading crypto wallet & gateway to blockchain apps built on Ethereum Mainnet, Polygon, Optimism, and many other networks\",\n    \"CONTROL_DIGITAL_INTERACTIONS\": \"Puts you in control of your digital interactions by making power of cryptography more accessible\",\n    \"INSTALL_META_MASK_EXTENSION\": \"Install MetaMask Extension\"\n  },\n  \"PENDING_MODAL\": {\n    \"OPEN_META_MASK_SELECT_CODE\": \"Please open the MetaMask wallet app and select the code on the screen OR disconnect\",\n    \"OPEN_META_MASK_CONTINUE\": \"Open the MetaMask app to continue with your session.\",\n    \"NUMBER_AFTER_OPEN_NOTICE\": \"If a number doesn't appear after opening MetaMask, please click disconnect and re-scan the QRCode.\",\n    \"DISCONNECT\": \"Disconnect\"\n  },\n  \"SELECT_MODAL\": {\n    \"CRYPTO_TAKE_CONTROL_TEXT\": \"Take control of your crypto and explore the blockchain with the wallet trusted by over 30 million people worldwide\"\n  },\n  \"META_MASK_MODAL\": {\n    \"ADDRESS_COPIED\": \"Address copied to clipboard!\",\n    \"DISCONNECT\": \"Disconnect\",\n    \"ACTIVE_NETWORK\": \"Active Network\"\n  }\n} as const;\n\nexport class SimpleI18n implements I18nInstance {\n  private translations: TranslationDict = defaultTranslations;\n  private supportedLocales: string[] = ['es', 'fr', 'he', 'it', 'pt', 'tr'];\n  private baseUrl: string;\n\n  constructor(config?: { baseUrl?: string }) {\n    this.baseUrl = config?.baseUrl ?? 'https://raw.githubusercontent.com/MetaMask/metamask-sdk/refs/heads/gh-pages/locales';\n  }\n\n  private getBrowserLanguage(): string {\n    // Get all browser languages in order of preference\n    const browserLanguages = navigator.languages || [navigator.language];\n\n    // Check if English is one of the preferred languages\n    const hasEnglish = browserLanguages.some(lang =>\n      lang.toLowerCase().startsWith('en')\n    );\n\n    // If user understands English, use it\n    if (hasEnglish) {\n      return 'en';\n    }\n\n    // Otherwise, check for other supported languages\n    const primaryLang = navigator.language;\n    const shortLang = primaryLang.toLowerCase().split('-')[0];\n    if (this.supportedLocales.includes(shortLang)) {\n      return shortLang;\n    }\n\n    return 'en';\n  }\n\n  async init(config: { fallbackLng: string }): Promise<void> {\n    const browserLang = this.getBrowserLanguage();\n    const locale = browserLang || config.fallbackLng;\n    await this.loadTranslations(locale);\n  }\n\n  async loadTranslations(locale: string): Promise<void> {\n    const shortLocale = locale.split('-')[0];\n\n    if (shortLocale === 'en' || !this.supportedLocales.includes(shortLocale)) {\n        this.translations = defaultTranslations;\n        return;\n    }\n\n    try {\n        const url = `${this.baseUrl}/${shortLocale}.json`;\n        const response = await fetch(url);\n\n        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n        this.translations = await response.json();\n    } catch (error) {\n        console.warn(`❌ Failed to load ${shortLocale} translations, falling back to English:`, error);\n        this.translations = defaultTranslations;\n    }\n  }\n\n  t(key: string): string {\n    return this.getNestedTranslation(key, this.translations) || key;\n  }\n\n  private getNestedTranslation(key: string, dict: TranslationDict): string {\n    const parts = key.split('.');\n    let current: TranslationDict | string = dict;\n\n    for (const part of parts) {\n      if (typeof current !== 'object') return '';\n      current = current[part];\n    }\n\n    return typeof current === 'string' ? current : '';\n  }\n}\n","export enum TrackingEvents {\n  SDK_MODAL_VIEWED = 'sdk_modal_viewed',\n  SDK_MODAL_BUTTON_CLICKED = 'sdk_modal_button_clicked',\n  SDK_MODAL_TOGGLE_CHANGED = 'sdk_modal_toggle_changed',\n}\n",".flexContainer {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: row;\n}\n\n.flexItem {\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n}\n\n.flexItem11 {\n    flex: 11;\n    justify-content: center;\n    align-items: center;\n}\n\n.flexItem1 {\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n}\n\n.tab {\n    padding: 8px;\n    cursor: pointer;\n    background-color: #F2F4F6;\n    font-size: 12px;\n    text-align: center;\n    color: #24292E;\n}\n\n.tabcontainer {\n    padding: 4px;\n    background-color: #F2F4F6;\n    border-radius: 8px;\n    margin-bottom: 30px;\n    margin-top: 30px;\n}\n\n.tabactive {\n    background-color: white;\n    -webkit-transition: background-color 300ms linear;\n    -ms-transition: background-color 300ms linear;\n    transition: background-color 300ms linear;\n    border-radius: 8px;\n}\n\n.item {\n    font-size: 12px;\n    margin-bottom: 16px;\n    border-radius: 8px;\n    padding: 10px;\n    border: 2px #F2F4F6 solid;\n    color: #24292E;\n}\n\n.extensionLabel {\n    font-style: normal;\n    font-weight: bold;\n    font-size: 14px;\n    text-align: cetner;\n    color: #24272A;\n}\n\n.notice {\n    font-size: 12px;\n    margin-left: 10px;\n    margin-right: 10px;\n    color: grey;\n}\n\n.button {\n    margin-top: 41.5px;\n    margin-bottom: 20px;\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    padding: 12px 20px;\n    background: #037DD6;\n    border-radius: 32px;\n    color: white;\n    border: 0;\n    font-size: 14px;\n    cursor: pointer;\n}\n\n.backdrop {\n    visibility: visible;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    width: 100%;\n    z-index: 99998;\n    background: rgba(0, 0, 0, 0.87);\n    opacity: 0.3;\n}\n\n.modal {\n    visibility: visible;\n    position: fixed;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 99999;\n    background: white;\n    padding: 20px;\n    border-radius: 8px;\n    top: 50%;\n    max-width: 100%;\n    width: 460px;\n    min-width: 300px;\n    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;\n    -webkit-font-smoothing: antialiased;\n}\n\n.closeButton {\n    color: #BBC0C5;\n    cursor: pointer;\n}\n\n.logoContainer {\n    margin-left: 24px;\n    margin-right: 24px;\n    margin-top: 24px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.connectMobileText {\n    font-size: 14px;\n    color: black;\n    margin-top: 28px;\n    margin-bottom: 28px;\n    line-height: 2;\n}\n\n.blue {\n    color: #037DD6;\n    font-weight: 700;\n}\n\n.installExtensionText {\n    margin-left: 10px;\n}\n\n.center {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.right {\n    display: flex;\n    align-items: center;\n    justify-content: right;\n}\n\n#sdk-mm-qrcode {\n    svg {\n        width: 50%;\n    }\n}","import { Component, Prop, h, Event, EventEmitter, State, Watch, Element } from '@stencil/core';\nimport { WidgetWrapper } from '../widget-wrapper/widget-wrapper';\nimport AdvantagesListItem from '../misc/AdvantagesListItem';\nimport WalletIcon from '../misc/WalletIcon';\nimport HeartIcon from '../misc/HeartIcon';\nimport LockIcon from '../misc/LockIcon';\nimport InstallIcon from '../misc/InstallIcon';\nimport SDKVersion from '../misc/SDKVersion';\nimport CloseButton from '../misc/CloseButton';\nimport Logo from '../misc/Logo';\nimport encodeQR from '@paulmillr/qr';\nimport { SimpleI18n } from '../misc/simple-i18n';\nimport { TrackingEvents } from '../misc/tracking-events';\n\n@Component({\n  tag: 'mm-install-modal',\n  styleUrl: '../style.css',\n  shadow: true,\n})\nexport class InstallModal {\n  /**\n   * The QR code link\n   */\n  @Prop() link: string;\n\n  @Prop() sdkVersion?: string;\n\n  @Prop() preferDesktop: boolean;\n\n  private i18nInstance: SimpleI18n;\n\n  @Event() close: EventEmitter<{ shouldTerminate?: boolean }>;\n\n  @Event() startDesktopOnboarding: EventEmitter;\n\n  @Event() trackAnalytics: EventEmitter<{ event: TrackingEvents, params?: Record<string, unknown> }>;\n\n  @State() tab: number = 1;\n\n  @State() isDefaultTab: boolean = true;\n\n  @Element() el: HTMLElement;\n\n  @State() private translationsLoaded: boolean = false;\n\n  constructor() {\n    this.onClose = this.onClose.bind(this);\n    this.onStartDesktopOnboardingHandler = this.onStartDesktopOnboardingHandler.bind(this);\n    this.setTab = this.setTab.bind(this);\n    this.render = this.render.bind(this);\n    this.setTab(this.preferDesktop ? 1 : 2);\n\n    this.i18nInstance = new SimpleI18n();\n  }\n\n  componentDidLoad() {\n    this.trackAnalytics.emit({\n      event: TrackingEvents.SDK_MODAL_VIEWED,\n      params: {\n        extensionInstalled: false,\n        tab: this.tab === 1 ? 'desktop' : 'mobile',\n      },\n    });\n  }\n\n  async connectedCallback() {\n    await this.i18nInstance.init({\n      fallbackLng: 'en'\n    });\n    this.translationsLoaded = true;\n  }\n\n  @Watch('preferDesktop')\n  updatePreferDesktop(newValue: boolean) {\n    if (newValue) {\n      this.setTab(1);\n    } else {\n      this.setTab(2);\n    }\n  }\n\n  onClose(shouldTerminate = false) {\n    this.close.emit({ shouldTerminate });\n  }\n\n  onStartDesktopOnboardingHandler() {\n    this.trackAnalytics.emit({\n      event: TrackingEvents.SDK_MODAL_BUTTON_CLICKED,\n      params: {\n        button_type: 'install_extension',\n        tab: 'desktop',\n      },\n    });\n    this.startDesktopOnboarding.emit();\n  }\n\n  setTab(newTab: number, isUserAction: boolean = false) {\n    if (isUserAction) {\n      this.trackAnalytics.emit({\n        event: TrackingEvents.SDK_MODAL_TOGGLE_CHANGED,\n        params: {\n          toggle: this.tab === 1 ? 'desktop_to_mobile' : 'mobile_to_desktop',\n        },\n      });\n    }\n    \n    this.tab = newTab;\n    this.isDefaultTab = false;\n  }\n\n  render() {\n    if (!this.translationsLoaded) {\n      return null; // or a loading state\n    }\n\n    const t = (key: string) => this.i18nInstance.t(key);\n    const currentTab = this.isDefaultTab ? this.preferDesktop ? 1 : 2 : this.tab;\n\n    const svgElement = encodeQR(this.link, \"svg\", {\n      ecc: \"medium\",\n      scale: 2\n    });\n\n    return (\n      <WidgetWrapper className=\"install-model\">\n        <div class='backdrop' onClick={() => this.onClose(true)}></div>\n        <div class='modal'>\n          <div class='closeButtonContainer'>\n            <div class='right'>\n              <span class='closeButton' onClick={() => this.onClose(true)}>\n                <CloseButton />\n              </span>\n            </div>\n          </div>\n          <div class='logoContainer'>\n            <Logo />\n          </div>\n          <div>\n            <div class='tabcontainer'>\n              <div class='flexContainer'>\n                <div\n                  onClick={() => this.setTab(1, true)}\n                  class={`tab flexItem ${currentTab === 1 ? 'tabactive': ''}`}\n                >\n                  {t('DESKTOP')}\n                </div>\n                <div\n                  onClick={() => this.setTab(2, true)}\n                  class={`tab flexItem ${currentTab === 2 ? 'tabactive': ''}`}\n                >\n                  {t('MOBILE')}\n                </div>\n              </div>\n            </div>\n            <div style={{ display: currentTab === 1 ? 'none' : 'block' }}>\n              <div class='flexContainer'>\n                <div\n                  class='flexItem'\n                  style={{\n                    textAlign: 'center',\n                    marginTop: '4',\n                  }}\n                >\n                  {\n                    svgElement && (\n                      <div id=\"sdk-mm-qrcode\" class='center' innerHTML={svgElement} />\n                    )\n                  }\n                  <div class='connectMobileText'>\n                    {t('SCAN_TO_CONNECT')} <br />\n                    <span class='blue'>\n                      <b>{t('META_MASK_MOBILE_APP')}</b>\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div style={{ display: currentTab === 2 ? 'none' : 'block' }}>\n              <div class='item'>\n                <AdvantagesListItem\n                  Icon={HeartIcon}\n                  text={t('INSTALL_MODAL.TRUSTED_BY_USERS')}\n                />\n              </div>\n              <div class='item'>\n                <AdvantagesListItem\n                  Icon={WalletIcon}\n                  text={t('INSTALL_MODAL.LEADING_CRYPTO_WALLET')}\n                />\n              </div>\n              <div class='item'>\n                <AdvantagesListItem\n                  Icon={LockIcon}\n                  text={t('INSTALL_MODAL.CONTROL_DIGITAL_INTERACTIONS')}\n                />\n              </div>\n\n              <button\n                class='button'\n                onClick={() => this.onStartDesktopOnboardingHandler()}\n              >\n                <InstallIcon />\n                <span class='installExtensionText'>\n                  {t('INSTALL_MODAL.INSTALL_META_MASK_EXTENSION')}\n                </span>\n              </button>\n            </div>\n          </div>\n          <SDKVersion version={this.sdkVersion} />\n        </div>\n    </WidgetWrapper>\n    )\n  }\n}\n",".flexContainer {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: row;\n}\n\n.flexItem {\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n}\n\n.flexItem11 {\n    flex: 11;\n    justify-content: center;\n    align-items: center;\n}\n\n.flexItem1 {\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n}\n\n.tab {\n    padding: 8px;\n    cursor: pointer;\n    background-color: #F2F4F6;\n    font-size: 12px;\n    text-align: center;\n    color: #24292E;\n}\n\n.tabcontainer {\n    padding: 4px;\n    background-color: #F2F4F6;\n    border-radius: 8px;\n    margin-bottom: 30px;\n    margin-top: 30px;\n}\n\n.tabactive {\n    background-color: white;\n    -webkit-transition: background-color 300ms linear;\n    -ms-transition: background-color 300ms linear;\n    transition: background-color 300ms linear;\n    border-radius: 8px;\n}\n\n.item {\n    font-size: 12px;\n    margin-bottom: 16px;\n    border-radius: 8px;\n    padding: 10px;\n    border: 2px #F2F4F6 solid;\n    color: #24292E;\n}\n\n.extensionLabel {\n    font-style: normal;\n    font-weight: bold;\n    font-size: 14px;\n    text-align: cetner;\n    color: #24272A;\n}\n\n.notice {\n    font-size: 12px;\n    margin-left: 10px;\n    margin-right: 10px;\n    color: grey;\n}\n\n.button {\n    margin-top: 41.5px;\n    margin-bottom: 20px;\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    padding: 12px 20px;\n    background: #037DD6;\n    border-radius: 32px;\n    color: white;\n    border: 0;\n    font-size: 14px;\n    cursor: pointer;\n}\n\n.backdrop {\n    visibility: visible;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    width: 100%;\n    z-index: 99998;\n    background: rgba(0, 0, 0, 0.87);\n    opacity: 0.3;\n}\n\n.modal {\n    visibility: visible;\n    position: fixed;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 99999;\n    background: white;\n    padding: 20px;\n    border-radius: 8px;\n    top: 50%;\n    max-width: 100%;\n    width: 460px;\n    min-width: 300px;\n    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;\n    -webkit-font-smoothing: antialiased;\n}\n\n.closeButton {\n    color: #BBC0C5;\n    cursor: pointer;\n}\n\n.logoContainer {\n    margin-left: 24px;\n    margin-right: 24px;\n    margin-top: 24px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.connectMobileText {\n    font-size: 14px;\n    color: black;\n    margin-top: 28px;\n    margin-bottom: 28px;\n    line-height: 2;\n}\n\n.blue {\n    color: #037DD6;\n    font-weight: 700;\n}\n\n.installExtensionText {\n    margin-left: 10px;\n}\n\n.center {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.right {\n    display: flex;\n    align-items: center;\n    justify-content: right;\n}\n\n#sdk-mm-qrcode {\n    svg {\n        width: 50%;\n    }\n}","import { Component, Prop, h, Event, EventEmitter, State, Element } from '@stencil/core';\nimport { WidgetWrapper } from '../widget-wrapper/widget-wrapper';\nimport SDKVersion from '../misc/SDKVersion';\nimport CloseButton from '../misc/CloseButton';\nimport Logo from '../misc/Logo';\nimport { SimpleI18n } from '../misc/simple-i18n';\n\n@Component({\n  tag: 'mm-pending-modal',\n  styleUrl: '../style.css',\n  shadow: true,\n})\nexport class PendingModal {\n  /**\n   * The QR code link\n   */\n  @Prop() displayOTP?: boolean;\n\n  @Prop() sdkVersion?: string;\n\n  private i18nInstance: SimpleI18n;\n\n  @Prop() otpCode?: string;\n\n  @Event() close: EventEmitter;\n\n  @Event() disconnect: EventEmitter;\n\n  @Event() updateOTPValue: EventEmitter<{ otpValue: string }>;\n\n  @Element() el: HTMLElement;\n\n  @State() private translationsLoaded: boolean = false;\n\n  constructor() {\n    this.i18nInstance = new SimpleI18n();\n  }\n\n  async connectedCallback() {\n    await this.i18nInstance.init({\n      fallbackLng: 'en'\n    });\n    this.translationsLoaded = true;\n  }\n\n  onClose() {\n    this.close.emit();\n  }\n\n  onDisconnect() {\n    this.disconnect.emit();\n  }\n\n  onUpdateOTPValueHandler(otpValue: string) {\n    this.updateOTPValue.emit({\n        otpValue,\n    })\n  }\n\n  disconnectedCallback() {\n    this.onClose();\n  }\n\n  render() {\n    if (!this.translationsLoaded) {\n      return null;\n    }\n\n    const displayOTP = this.displayOTP ?? true;\n    const sdkVersion = this.sdkVersion\n    const t = (key: string) => this.i18nInstance.t(key);\n\n    return (\n        <WidgetWrapper className=\"pending-modal\">\n        <div class='backdrop' onClick={() => this.onClose()}></div>\n        <div class='modal'>\n          <div class='closeButtonContainer'>\n            <div class='right'>\n              <span class='closeButton' onClick={() => this.onClose()}>\n                <CloseButton />\n              </span>\n            </div>\n          </div>\n          <div class='logoContainer'>\n            <Logo />\n          </div>\n          <div>\n            <div\n              class='flexContainer'\n              style={{\n                flexDirection: 'column',\n                color: 'black',\n              }}\n            >\n              <div\n                class='flexItem'\n                style={{\n                  textAlign: 'center',\n                  marginTop: '30px',\n                  marginBottom: '30px',\n                  fontSize: '16px',\n                }}\n              >\n                {displayOTP\n                  ? t('PENDING_MODAL.OPEN_META_MASK_SELECT_CODE')\n                  : t('PENDING_MODAL.OPEN_META_MASK_CONTINUE')}\n              </div>\n              <div\n                id=\"sdk-mm-otp-value\"\n                style={{ padding: '10px', fontSize: '32px', display: this.otpCode ? 'block' : 'none' }}\n              >{this.otpCode}</div>\n              {displayOTP && (\n                <div class='notice'>\n                  * {t('PENDING_MODAL.NUMBER_AFTER_OPEN_NOTICE')}\n                </div>\n              )}\n            </div>\n            <div style={{ marginTop: '20px' }}>\n              <button\n                class='button blue'\n                style={{\n                  marginTop: '5px',\n                  color: '#0376C9',\n                  borderColor: '#0376C9',\n                  borderWidth: '1px',\n                  borderStyle: 'solid',\n                  backgroundColor: 'white',\n                }}\n                onClick={() => this.onDisconnect()}\n              >\n                {t('PENDING_MODAL.DISCONNECT')}\n              </button>\n            </div>\n          </div>\n          <SDKVersion version={sdkVersion} />\n        </div>\n      </WidgetWrapper>\n    )\n  }\n}\n","import { h } from \"@stencil/core\";\n\nconst ConnectIcon = () => (\n  <svg\n    width=\"21\"\n    height=\"15\"\n    viewBox=\"0 0 21 15\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M14.1364 14.9851C13.5909 14.9851 13.2273 14.5851 13.2273 13.9851C13.2273 13.3851 13.5909 12.9851 14.1364 12.9851C16.6818 12.9851 18.6818 10.7851 18.6818 7.98508C18.6818 5.18508 16.6818 2.98508 14.1364 2.98508C11.5909 2.98508 9.59091 5.18508 9.59091 7.98508C9.59091 8.58508 9.22727 8.98508 8.68182 8.98508C8.13636 8.98508 7.77273 8.58508 7.77273 7.98508C7.77273 4.08508 10.5909 0.985077 14.1364 0.985077C17.6818 0.985077 20.5 4.08508 20.5 7.98508C20.5 11.8851 17.6818 14.9851 14.1364 14.9851ZM6.68182 14.7851C3.22727 14.7851 0.5 11.6851 0.5 7.98508C0.5 4.28508 3.22727 1.18508 6.68182 1.18508C7.22727 1.18508 7.59091 1.58508 7.59091 2.18508C7.59091 2.78508 7.22727 3.18508 6.68182 3.18508C4.22727 3.18508 2.31818 5.38508 2.31818 7.98508C2.31818 10.5851 4.22727 12.7851 6.68182 12.7851C9.13636 12.7851 11.0455 10.6851 11.0455 7.98508C11.0455 7.38508 11.4091 6.98508 11.9545 6.98508C12.5 6.98508 12.8636 7.38508 12.8636 7.98508C12.7727 11.6851 10.0455 14.7851 6.68182 14.7851Z\"\n      fill=\"white\"\n    />\n  </svg>\n);\n\nexport default ConnectIcon;\n","import { h } from \"@stencil/core\";\n\nexport const MetamaskExtensionImage = () => (\n  <svg width=\"400\" height=\"300\" viewBox=\"0 0 400 300\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <rect width=\"400\" height=\"300\" fill=\"white\"/>\n    <path d=\"M300.116 242.46L250.485 227.681L213.057 250.055L186.944 250.045L149.493 227.681L99.8843 242.46L84.7939 191.518L99.8843 134.979L84.7939 87.1777L99.8843 27.9336L177.402 74.2466H222.598L300.116 27.9336L315.206 87.1777L300.116 134.979L315.206 191.518L300.116 242.46Z\" fill=\"#FF5C16\"/>\n    <path d=\"M99.8955 27.9336L177.414 74.2792L174.331 106.085L99.8955 27.9336Z\" fill=\"#FF5C16\"/>\n    <path d=\"M149.505 191.539L183.612 217.521L149.505 227.681V191.539Z\" fill=\"#FF5C16\"/>\n    <path d=\"M180.886 148.585L174.33 106.107L132.369 134.991L132.348 134.98V135.001L132.477 164.732L149.493 148.585H149.504H180.886Z\" fill=\"#FF5C16\"/>\n    <path d=\"M300.116 27.9336L222.598 74.2792L225.67 106.085L300.116 27.9336Z\" fill=\"#FF5C16\"/>\n    <path d=\"M250.508 191.539L216.4 217.521L250.508 227.681V191.539Z\" fill=\"#FF5C16\"/>\n    <path d=\"M267.652 135.001H267.663H267.652V134.98L267.641 134.991L225.68 106.107L219.125 148.585H250.507L267.533 164.732L267.652 135.001Z\" fill=\"#FF5C16\"/>\n    <path d=\"M149.493 227.681L99.8843 242.46L84.7939 191.54H149.493V227.681Z\" fill=\"#E34807\"/>\n    <path d=\"M180.875 148.574L190.351 209.98L177.219 175.838L132.456 164.732L149.483 148.574H180.864H180.875Z\" fill=\"#E34807\"/>\n    <path d=\"M250.507 227.681L300.116 242.46L315.206 191.54H250.507V227.681Z\" fill=\"#E34807\"/>\n    <path d=\"M219.126 148.574L209.649 209.98L222.782 175.838L267.545 164.732L250.507 148.574H219.126Z\" fill=\"#E34807\"/>\n    <path d=\"M84.7939 191.517L99.8843 134.979H132.337L132.456 164.721L177.219 175.826L190.351 209.969L183.601 217.488L149.493 191.506H84.7939V191.517Z\" fill=\"#FF8D5D\"/>\n    <path d=\"M315.206 191.517L300.116 134.979H267.664L267.545 164.721L222.782 175.826L209.649 209.969L216.4 217.488L250.507 191.506H315.206V191.517Z\" fill=\"#FF8D5D\"/>\n    <path d=\"M222.598 74.2466H200H177.402L174.33 106.053L190.351 209.936H209.649L225.681 106.053L222.598 74.2466Z\" fill=\"#FF8D5D\"/>\n    <path d=\"M99.8843 27.9336L84.7939 87.1777L99.8843 134.979H132.337L174.319 106.085L99.8843 27.9336Z\" fill=\"#661800\"/>\n    <path d=\"M171.496 160.906H156.795L148.79 168.752L177.229 175.804L171.496 160.896V160.906Z\" fill=\"#661800\"/>\n    <path d=\"M300.116 27.9336L315.206 87.1777L300.116 134.979H267.663L225.681 106.085L300.116 27.9336Z\" fill=\"#661800\"/>\n    <path d=\"M228.525 160.906H243.248L251.253 168.763L222.781 175.826L228.525 160.896V160.906Z\" fill=\"#661800\"/>\n    <path d=\"M213.046 229.789L216.399 217.51L209.649 209.991H190.34L183.59 217.51L186.943 229.789\" fill=\"#661800\"/>\n    <path d=\"M213.047 229.789V250.066H186.944V229.789H213.047Z\" fill=\"#C0C4CD\"/>\n    <path d=\"M149.504 227.66L186.965 250.056V229.779L183.611 217.5L149.504 227.66Z\" fill=\"#E7EBF6\"/>\n    <path d=\"M250.506 227.66L213.045 250.056V229.779L216.398 217.5L250.506 227.66Z\" fill=\"#E7EBF6\"/>\n  </svg>\n);\n",".flexContainer {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: row;\n}\n\n.flexItem {\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n}\n\n.flexItem11 {\n    flex: 11;\n    justify-content: center;\n    align-items: center;\n}\n\n.flexItem1 {\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n}\n\n.tab {\n    padding: 8px;\n    cursor: pointer;\n    background-color: #F2F4F6;\n    font-size: 12px;\n    text-align: center;\n    color: #24292E;\n}\n\n.tabcontainer {\n    padding: 4px;\n    background-color: #F2F4F6;\n    border-radius: 8px;\n    margin-bottom: 30px;\n    margin-top: 30px;\n}\n\n.tabactive {\n    background-color: white;\n    -webkit-transition: background-color 300ms linear;\n    -ms-transition: background-color 300ms linear;\n    transition: background-color 300ms linear;\n    border-radius: 8px;\n}\n\n.item {\n    font-size: 12px;\n    margin-bottom: 16px;\n    border-radius: 8px;\n    padding: 10px;\n    border: 2px #F2F4F6 solid;\n    color: #24292E;\n}\n\n.extensionLabel {\n    font-style: normal;\n    font-weight: bold;\n    font-size: 14px;\n    text-align: cetner;\n    color: #24272A;\n}\n\n.notice {\n    font-size: 12px;\n    margin-left: 10px;\n    margin-right: 10px;\n    color: grey;\n}\n\n.button {\n    margin-top: 41.5px;\n    margin-bottom: 20px;\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    padding: 12px 20px;\n    background: #037DD6;\n    border-radius: 32px;\n    color: white;\n    border: 0;\n    font-size: 14px;\n    cursor: pointer;\n}\n\n.backdrop {\n    visibility: visible;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    width: 100%;\n    z-index: 99998;\n    background: rgba(0, 0, 0, 0.87);\n    opacity: 0.3;\n}\n\n.modal {\n    visibility: visible;\n    position: fixed;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 99999;\n    background: white;\n    padding: 20px;\n    border-radius: 8px;\n    top: 50%;\n    max-width: 100%;\n    width: 460px;\n    min-width: 300px;\n    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;\n    -webkit-font-smoothing: antialiased;\n}\n\n.closeButton {\n    color: #BBC0C5;\n    cursor: pointer;\n}\n\n.logoContainer {\n    margin-left: 24px;\n    margin-right: 24px;\n    margin-top: 24px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.connectMobileText {\n    font-size: 14px;\n    color: black;\n    margin-top: 28px;\n    margin-bottom: 28px;\n    line-height: 2;\n}\n\n.blue {\n    color: #037DD6;\n    font-weight: 700;\n}\n\n.installExtensionText {\n    margin-left: 10px;\n}\n\n.center {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.right {\n    display: flex;\n    align-items: center;\n    justify-content: right;\n}\n\n#sdk-mm-qrcode {\n    svg {\n        width: 50%;\n    }\n}","import { Component, Prop, h, Event, EventEmitter, State, Element, Watch } from '@stencil/core';\nimport { WidgetWrapper } from '../widget-wrapper/widget-wrapper';\nimport SDKVersion from '../misc/SDKVersion';\nimport CloseButton from '../misc/CloseButton';\nimport Logo from '../misc/Logo';\nimport ConnectIcon from '../misc/ConnectIcon';\nimport { MetamaskExtensionImage } from '../misc/MetamaskExtensionImage';\nimport encodeQR from '@paulmillr/qr';\nimport { SimpleI18n } from '../misc/simple-i18n';\n\n@Component({\n  tag: 'mm-select-modal',\n  styleUrl: '../style.css',\n  shadow: true,\n})\nexport class SelectModal {\n  /**\n   * The QR code link\n   */\n  @Prop() link: string;\n\n  @Prop() sdkVersion?: string;\n\n  @Prop() preferDesktop: boolean;\n\n  private i18nInstance: SimpleI18n;\n\n  @Event() close: EventEmitter<{ shouldTerminate?: boolean }>;\n\n  @Event() connectWithExtension: EventEmitter;\n\n  @State() tab: number = 1;\n\n  @State() isDefaultTab: boolean = true;\n\n  @Element() el: HTMLElement;\n\n  @State() private translationsLoaded: boolean = false;\n\n  constructor() {\n    this.i18nInstance = new SimpleI18n();\n    this.setTab(this.preferDesktop ? 1 : 2);\n  }\n\n  async connectedCallback() {\n    await this.i18nInstance.init({\n      fallbackLng: 'en'\n    });\n    this.translationsLoaded = true;\n  }\n\n  onClose(shouldTerminate = false) {\n    this.close.emit({ shouldTerminate });\n  }\n\n  connectWithExtensionHandler() {\n    this.connectWithExtension.emit();\n  }\n\n  setTab(tab: number) {\n    this.tab = tab;\n    this.isDefaultTab = false;\n  }\n\n  disconnectedCallback() {\n    this.onClose();\n  }\n\n  @Watch('preferDesktop')\n  updatePreferDesktop(newValue: boolean) {\n    if (newValue) {\n      this.setTab(1);\n    } else {\n      this.setTab(2);\n    }\n  }\n\n  render() {\n    if (!this.translationsLoaded) {\n      return null;\n    }\n\n    const t = (key: string) => this.i18nInstance.t(key);\n\n    const sdkVersion = this.sdkVersion\n\n    const currentTab = this.isDefaultTab ? this.preferDesktop ? 1 : 2 : this.tab\n\n    const svgElement = encodeQR(this.link, \"svg\", {\n      ecc: \"medium\",\n      scale: 2\n    })\n\n    return (\n      <WidgetWrapper className=\"select-modal\">\n        <div class='backdrop' onClick={() => this.onClose(true)}></div>\n        <div class='modal'>\n          <div class='closeButtonContainer'>\n            <div class='right'>\n              <span class='closeButton' onClick={() => this.onClose(true)}>\n                <CloseButton />\n              </span>\n            </div>\n          </div>\n          <div class='logoContainer'>\n            <Logo />\n          </div>\n          <div>\n            <div class='tabcontainer'>\n              <div class='flexContainer'>\n                <div\n                  onClick={() => this.setTab(1)}\n                  class={`tab flexItem ${currentTab === 1 ? 'tabactive' : ''}`}\n                >\n                  {t('DESKTOP')}\n                </div>\n                <div\n                  onClick={() => this.setTab(2)}\n                  class={`tab flexItem ${currentTab === 2 ? 'tabactive' : ''}`}\n                >\n                  {t('MOBILE')}\n                </div>\n              </div>\n            </div>\n            <div style={{ display: currentTab === 1 ? 'none' : 'block' }}>\n              <div class='flexContainer'>\n                <div\n                  class='flexItem'\n                  style={{\n                    textAlign: 'center',\n                    marginTop: '4',\n                  }}\n                >\n                  <div class='center' id=\"sdk-mm-qrcode\" innerHTML={svgElement} />\n                  <div class='connectMobileText'>\n                    {t('SCAN_TO_CONNECT')}\n                    <br />\n                    <span class='blue'>\n                      <b>{t('META_MASK_MOBILE_APP')}</b>\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div style={{ display: currentTab === 2 ? 'none' : 'block' }}>\n              <div\n                style={{\n                  display: 'flex',\n                  justifyContent: 'center',\n                  height: '300',\n                  marginTop: '-20',\n                }}\n              >\n                <MetamaskExtensionImage />\n              </div>\n              <div class='extensionLabel'>\n                {t('SELECT_MODAL.CRYPTO_TAKE_CONTROL_TEXT')}\n              </div>\n\n              <button class='button' onClick={() => this.connectWithExtensionHandler()}>\n                <ConnectIcon />\n                <span class='installExtensionText'>\n                  {t('CONNECT_WITH_EXTENSION')}\n                </span>\n              </button>\n            </div>\n          </div>\n          <SDKVersion version={sdkVersion} />\n        </div>\n      </WidgetWrapper>\n    )\n  }\n}\n"],"mappings":"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","ignoreList":[]}